<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Slop Of Fame ‚Äî SlopOS 97.5 v3.1</title>
<meta content="Slop Of Fame ‚Äî a retro OS gallery of the internet's most cursed AI artifacts." name="description"/>
<meta content="Slop Of Fame ‚Äî SlopOS 97.5 v3.1" property="og:title"/>
<meta content="A retro OS gallery of the internet's most cursed AI artifacts." property="og:description"/>
<meta content="website" property="og:type"/>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect fill='%23008080' width='32' height='32'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-size='20'%3Eü¶ê%3C/text%3E%3C/svg%3E"/>
<style>
/* SlopOS 97.5 ‚Äî retro UI */
:root{
  --win-gray:#c0c0c0;
  --win-blue:#000080;
  --win-blue2:#1084d0;
  --win-text:#000;
  --teal:#008080;
  --shadow: rgba(0,0,0,.55);
  --border-light:#fff;
  --border-dark:#000;
  --border-mid:#888;
  --font: "Courier New", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  background:var(--teal);
  font-family:var(--font);
  overflow:hidden;
  user-select:none;
  cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="fill:white;stroke:black;"><path d="M0,0 L0,16 L4,12 L8,20 L10,18 L6,10 L12,10 L0,0 Z" /></svg>'), auto;
}

a{color:inherit}
button,input,select,textarea{font-family:var(--font); font-size:13px}
button{cursor:pointer}

.crt::before{
  content:"";
  position:fixed; inset:0;
  background:
    linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,.25) 50%),
    linear-gradient(90deg, rgba(255,0,0,.06), rgba(0,255,0,.02), rgba(0,0,255,.06));
  background-size:100% 2px, 3px 100%;
  pointer-events:none;
  z-index:9999;
}

#desktop{
  position:relative;
  height:calc(100% - 40px);
  width:100%;
  overflow:hidden;
}

/* desktop icons */
.desktop-icons{
  position:absolute;
  inset:0;
  z-index:0;
}
.desktop-icon{
  position:absolute;
  width:84px;
  color:#fff;
  text-align:center;
  user-select:none;
  cursor:default;
  padding:4px;
  border:1px solid transparent;
  border-radius:4px;
  transition: background 0.15s, border-color 0.15s, transform 0.1s;
}
.desktop-icon:hover{
  background:rgba(255,255,255,0.2);
  border-color:rgba(255,255,255,0.4);
}
.desktop-icon:hover .icon-img{
  filter:brightness(1.4) drop-shadow(0 0 10px rgba(255,255,255,0.8));
  transform:scale(1.05);
}
.desktop-icon.selected{
  background:rgba(0,0,128,0.5);
  border-color:rgba(255,255,255,0.6);
}
.desktop-icon.selected .icon-img{
  filter:brightness(1.3) drop-shadow(0 0 8px rgba(100,149,237,0.9));
}
.desktop-icon.dragging{
  opacity:0.7;
  z-index:1000;
}
.desktop-icon p{
  display:inline-block;
  background:var(--win-blue);
  padding:0 4px;
  margin:0;
  font-size:11px;
}
.desktop-icon .icon-img{
  width:48px;
  height:48px;
  display:block;
  margin:0 auto 6px;
  image-rendering:pixelated;
  transition: filter 0.15s, transform 0.15s;
}
.desktop-icon:active{transform:translateY(1px)}

/* Selection marquee */
#selection-box{
  position:absolute;
  border:1px dashed rgba(255,255,255,0.8);
  background:rgba(0,0,128,0.2);
  pointer-events:none;
  display:none;
  z-index:500;
}

/* window */
.window{
  position:absolute;
  background:var(--win-gray);
  border-top:2px solid var(--border-light);
  border-left:2px solid var(--border-light);
  border-right:2px solid var(--border-dark);
  border-bottom:2px solid var(--border-dark);
  box-shadow:4px 4px 0 var(--shadow);
  padding:2px;
  display:none;
  flex-direction:column;
  min-width:260px;
  min-height:160px;
  box-sizing:border-box;
}
.window.is-open{display:flex}
.window.maximized{
  top:8px !important;
  left:8px !important;
  width:calc(100% - 16px) !important;
  height:calc(100% - 56px) !important;
}

.title-bar{
  background:linear-gradient(90deg, var(--win-blue), var(--win-blue2));
  padding:4px 6px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  cursor:move;
}
.title-left{display:flex; align-items:center; gap:8px}
.title-text{
  color:#fff;
  font-weight:bold;
  font-size:13px;
  letter-spacing:.5px;
  pointer-events:none;
  white-space:nowrap;
}
.win-controls{display:flex; gap:4px}
.win-btn{
  width:20px; height:20px;
  background:var(--win-gray);
  border-top:1px solid var(--border-light);
  border-left:1px solid var(--border-light);
  border-right:1px solid var(--border-dark);
  border-bottom:1px solid var(--border-dark);
  display:flex; align-items:center; justify-content:center;
  font-weight:bold;
  font-size:12px;
}
.win-btn:active{
  border-top:1px solid var(--border-dark);
  border-left:1px solid var(--border-dark);
  border-right:1px solid var(--border-light);
  border-bottom:1px solid var(--border-light);
}

.menu-bar{
  position:relative;
  display:flex;
  gap:14px;
  padding:3px 8px;
  font-size:12px;
  background:#dcdcdc;
  border-bottom:1px solid var(--border-mid);
}

.window-body{
  padding:10px;
  flex:1;
  display:flex;
  flex-direction:column;
  gap:10px;
  min-height:0;
  overflow:hidden;
}

.inset-panel{
  background:#fff;
  border-top:2px solid var(--border-mid);
  border-left:2px solid var(--border-mid);
  border-right:2px solid var(--border-light);
  border-bottom:2px solid var(--border-light);
  overflow:auto;
}

.status-bar{
  border:1px solid var(--border-mid);
  background:#dcdcdc;
  padding:3px 6px;
  font-size:11px;
  display:flex; justify-content:space-between; gap:10px;
}

/* taskbar */
#taskbar{
  height:40px;
  background:var(--win-gray);
  border-top:2px solid var(--border-light);
  padding:4px;
  display:flex;
  align-items:center;
  gap:8px;
}
.start-btn{
  display:flex; align-items:center; gap:6px;
  padding:4px 8px;
  font-weight:bold;
  background:var(--win-gray);
  border-top:2px solid var(--border-light);
  border-left:2px solid var(--border-light);
  border-right:2px solid var(--border-dark);
  border-bottom:2px solid var(--border-dark);
}
.start-btn:active{
  border-top:2px solid var(--border-dark);
  border-left:2px solid var(--border-dark);
  border-right:2px solid var(--border-light);
  border-bottom:2px solid var(--border-light);
}
.taskbar-windows{
  display:flex; gap:6px;
  flex:1;
  overflow:auto;
  padding-bottom:2px;
}
.task-btn{
  max-width:260px;
  display:flex;
  align-items:center;
  gap:8px;
  padding:4px 8px;
  white-space:nowrap;
  background:#dcdcdc;
  border-top:2px solid var(--border-light);
  border-left:2px solid var(--border-light);
  border-right:2px solid var(--border-dark);
  border-bottom:2px solid var(--border-dark);
  font-size:12px;
}
.task-btn.active{
  background:#bfbfbf;
  border-top:2px solid var(--border-dark);
  border-left:2px solid var(--border-dark);
  border-right:2px solid var(--border-light);
  border-bottom:2px solid var(--border-light);
}
.clock{
  cursor:pointer;
  min-width:90px;
  text-align:center;
  padding:4px 8px;
}

/* start menu */
#start-menu{
  position:absolute;
  bottom:40px;
  left:4px;
  width:220px;
  background:var(--win-gray);
  border-top:2px solid var(--border-light);
  border-left:2px solid var(--border-light);
  border-right:2px solid var(--border-dark);
  border-bottom:2px solid var(--border-dark);
  box-shadow:4px 4px 0 var(--shadow);
  display:none;
  z-index:10000;
}
#start-menu.is-open{display:block}
.start-wrap{display:flex}
.start-sidebar{
  background:linear-gradient(180deg, var(--win-blue), var(--win-blue2));
  color:#fff;
  writing-mode: vertical-rl;
  transform: rotate(180deg);
  padding:6px 4px;
  font-weight:bold;
  font-size:14px;
  letter-spacing:.5px;
}
.start-list{flex:1}
.start-item{
  padding:10px 12px;
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
  font-size:13px;
}
.start-item:hover{
  background:var(--win-blue);
  color:#fff;
}
.start-sep{
  border-top:1px solid var(--border-mid);
  margin:4px 0;
}

/* form */
.form-row{display:flex; flex-direction:column; gap:4px; margin-bottom:10px}
input[type="text"], input[type="url"], textarea, select{
  width:100%;
  padding:6px 8px;
  border-top:2px solid var(--border-mid);
  border-left:2px solid var(--border-mid);
  border-right:2px solid var(--border-light);
  border-bottom:2px solid var(--border-light);
  background:#fff;
}
.actions{display:flex; gap:8px; flex-wrap:wrap}
.win-cta{
  padding:6px 10px;
  font-weight:bold;
  background:#dcdcdc;
  border-top:2px solid var(--border-light);
  border-left:2px solid var(--border-light);
  border-right:2px solid var(--border-dark);
  border-bottom:2px solid var(--border-dark);
}
.win-cta:active{
  border-top:2px solid var(--border-dark);
  border-left:2px solid var(--border-dark);
  border-right:2px solid var(--border-light);
  border-bottom:2px solid var(--border-light);
}

/* resize handle */
.resize-handle{
  position:absolute;
  width:16px; height:16px;
  right:2px; bottom:2px;
  cursor:nwse-resize;
  background:
    linear-gradient(135deg, transparent 0 45%, #000 45% 55%, transparent 55% 100%),
    linear-gradient(135deg, transparent 0 60%, #000 60% 70%, transparent 70% 100%),
    linear-gradient(135deg, transparent 0 75%, #000 75% 85%, transparent 85% 100%);
  opacity:.55;
  pointer-events:auto;
}
.window.maximized .resize-handle{ display:none; }

/* game */
.game-toolbar{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.game-readout{
  padding:2px 6px;
  background:#fff;
  border-top:2px solid #666;
  border-left:2px solid #666;
  border-right:2px solid #fff;
  border-bottom:2px solid #fff;
  font-size:12px;
}
.game-hint{ font-size:12px; opacity:.85; }
.game-panel{ display:flex; align-items:center; justify-content:center; padding:10px; flex:1; min-height:0; overflow:hidden; }
.game-canvas{
  background:#111;
  border:2px solid #000;
  box-shadow: inset 1px 1px 0 #fff, inset -1px -1px 0 #666;
  image-rendering:pixelated;
  display:block;
  max-width:100%;
  max-height:100%;
}

/* slop cards */
.slop-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap:16px;
  padding:12px;
}
.slop-card{
  background:#f0f0f0;
  border:2px solid #000;
  padding:8px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.slop-card .slop-preview{
  width:100%;
  height:200px;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:48px;
  border:1px solid #000;
  overflow:hidden;
  position:relative;
}
.slop-card .slop-preview img{
  transition: transform 0.3s;
}
.slop-card:hover .slop-preview img{
  transform: scale(1.05);
}
.slop-card .slop-preview iframe,
.slop-card .slop-preview video{
  width:100%;
  height:100%;
  border:none;
}
.slop-card .slop-preview-placeholder{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:8px;
  width:100%;
  height:100%;
  text-align:center;
}
.slop-card .slop-preview-placeholder span{
  font-size:12px;
  color:#888;
}
@keyframes geminiGrad{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* Play button overlay */
.play-button{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:68px;
  height:68px;
  background:rgba(0,0,0,0.7);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  color:#fff;
  transition: transform 0.2s, background 0.2s;
  padding-left:4px;
}
.video-thumbnail:hover .play-button{
  transform:translate(-50%,-50%) scale(1.1);
  background:rgba(255,0,0,0.85);
}

/* Video source badges */
.video-badge{
  position:absolute;
  top:8px;
  right:8px;
  padding:4px 8px;
  font-size:10px;
  font-weight:bold;
  border-radius:4px;
  text-transform:uppercase;
}
.video-badge.youtube{background:#ff0000;color:#fff;}
.video-badge.vimeo{background:#1ab7ea;color:#fff;}
.video-badge.x{background:#000;color:#fff;}
.video-badge.openai{background:#10a37f;color:#fff;}
.video-badge.gemini{background:#4285f4;color:#fff;}
.video-badge.grok{background:#ff6b35;color:#fff;}
.slop-card .slop-link{
  word-break:break-all;
  font-size:11px;
  color:#0000aa;
  text-decoration:underline;
  cursor:pointer;
}
.slop-card .slop-votes{
  display:flex;
  gap:12px;
  align-items:center;
  margin-top:auto;
}
.vote-btn{
  display:flex;
  align-items:center;
  gap:4px;
  padding:4px 8px;
  background:#ddd;
  border:2px outset #ccc;
  cursor:pointer;
  font-size:14px;
}
.vote-btn:active{
  border-style:inset;
}
.vote-btn.voted{
  background:#bfb;
}
.vote-btn.voted-down{
  background:#fbb;
}

/* virus effects */
@keyframes glitch{
  0%{clip-path: inset(80% 0 0 0); transform: translate(-2px, 1px);}
  20%{clip-path: inset(10% 0 60% 0); transform: translate(2px, -1px);}
  40%{clip-path: inset(40% 0 40% 0); transform: translate(-2px, 2px);}
  60%{clip-path: inset(80% 0 5% 0); transform: translate(2px, -2px);}
  80%{clip-path: inset(20% 0 70% 0); transform: translate(-1px, 1px);}
  100%{clip-path: inset(60% 0 10% 0); transform: translate(1px, -1px);}
}
@keyframes shake{
  0%,100%{transform:translate(0,0) rotate(0)}
  10%{transform:translate(-5px,2px) rotate(-1deg)}
  20%{transform:translate(5px,-2px) rotate(1deg)}
  30%{transform:translate(-3px,3px) rotate(0)}
  40%{transform:translate(3px,-3px) rotate(-1deg)}
  50%{transform:translate(-2px,1px) rotate(1deg)}
  60%{transform:translate(2px,-1px) rotate(0)}
  70%{transform:translate(-3px,2px) rotate(-1deg)}
  80%{transform:translate(3px,-2px) rotate(1deg)}
  90%{transform:translate(-1px,1px) rotate(0)}
}
@keyframes hueRotate{
  0%{filter:hue-rotate(0deg)}
  100%{filter:hue-rotate(360deg)}
}
body.virus-mode{
  animation: shake 0.3s infinite, hueRotate 0.5s infinite;
}
body.virus-mode *{
  animation: glitch 0.2s infinite;
}

/* shutdown */
#shutdown-overlay{
  position:fixed;
  inset:0;
  background:#000;
  z-index:999999;
  display:none;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  color:#ff8800;
  font-family:var(--font);
}
#shutdown-overlay.active{
  display:flex;
}
#shutdown-overlay h1{
  font-size:24px;
  margin:0 0 20px;
}
#shutdown-overlay p{
  font-size:14px;
  margin:0;
}

/* disclaimer */
.disclaimer{
  background:#ffffcc;
  border:2px solid #cc0000;
  padding:10px;
  margin:10px 0;
  font-size:11px;
  color:#660000;
}

/* responsive */
@media (max-width:600px){
  body{overflow:auto}
  #desktop{height:auto; min-height:calc(100vh - 40px)}
  .window{min-width:calc(100vw - 20px)}
}
</style>
</head>
<body class="crt">
<noscript>
<div style="padding:16px; background:#c0c0c0; border:2px solid #000; margin:12px;">
  This site needs JavaScript to run the SlopOS interface.
</div>
</noscript>

<main id="desktop">
<!-- Selection box for multi-select -->
<div id="selection-box"></div>

<!-- DESKTOP ICONS -->
<div class="desktop-icons" id="desktop-icons">
  <div class="desktop-icon" data-open="about" title="About" style="left:20px;top:20px;">
    <svg class="icon-img" viewBox="0 0 48 48"><rect fill="#008" width="48" height="48" rx="4"/><text x="24" y="32" text-anchor="middle" fill="#fff" font-size="28">‚ÑπÔ∏è</text></svg>
    <p>About</p>
  </div>
  <div class="desktop-icon" data-open="fame" title="Slop Of Fame" style="left:20px;top:120px;">
    <svg class="icon-img" viewBox="0 0 48 48"><rect fill="#ffd700" width="48" height="48" rx="4"/><text x="24" y="32" text-anchor="middle" font-size="28">üèÜ</text></svg>
    <p>Slop Of Fame</p>
  </div>
  <div class="desktop-icon" data-open="snake" title="Snake" style="left:20px;top:220px;">
    <svg class="icon-img" viewBox="0 0 48 48"><rect fill="#228b22" width="48" height="48" rx="4"/><text x="24" y="32" text-anchor="middle" font-size="28">üêç</text></svg>
    <p>Snake</p>
  </div>
  <div class="desktop-icon" data-open="virus" title="VIRUS.exe" style="left:20px;top:320px;">
    <svg class="icon-img" viewBox="0 0 48 48"><rect fill="#800" width="48" height="48" rx="4"/><text x="24" y="32" text-anchor="middle" font-size="28">‚ò†Ô∏è</text></svg>
    <p>VIRUS.exe</p>
  </div>
  <div class="desktop-icon" data-open="bin" title="Bin" style="left:20px;top:420px;">
    <svg class="icon-img" viewBox="0 0 48 48"><rect fill="#555" width="48" height="48" rx="4"/><text x="24" y="32" text-anchor="middle" font-size="28">üóëÔ∏è</text></svg>
    <p>Bin</p>
  </div>
  <div class="desktop-icon" data-open="submit" title="Submit" style="left:120px;top:20px;">
    <svg class="icon-img" viewBox="0 0 48 48"><rect fill="#4169e1" width="48" height="48" rx="4"/><text x="24" y="32" text-anchor="middle" font-size="28">üì§</text></svg>
    <p>Submit</p>
  </div>
  <div class="desktop-icon" data-open="yourslops" title="Your Slops" style="left:120px;top:120px;">
    <svg class="icon-img" viewBox="0 0 48 48"><rect fill="#9932cc" width="48" height="48" rx="4"/><text x="24" y="32" text-anchor="middle" font-size="28">üìÅ</text></svg>
    <p>Your Slops</p>
  </div>
</div>

<!-- ABOUT WINDOW -->
<section class="window" data-win="about" data-icon="‚ÑπÔ∏è" data-title="About SlopOS" style="top:60px;left:15%;width:520px;height:580px;">
  <div class="title-bar">
    <div class="title-left"><span>‚ÑπÔ∏è</span><span class="title-text">About SlopOS 97.5 v3.1</span></div>
    <div class="win-controls">
      <button class="win-btn" data-action="min">_</button>
      <button class="win-btn" data-action="max">‚ñ°</button>
      <button class="win-btn" data-action="close">X</button>
    </div>
  </div>
  <div class="menu-bar"><span><u>F</u>ile</span><span><u>H</u>elp</span></div>
  <div class="window-body">
    <div style="display:flex;gap:16px;align-items:flex-start;">
      <div style="font-size:64px;">ü¶ê</div>
      <div>
        <h1 style="margin:0 0 10px;font-size:20px;">SlopOS 97.5 v3.1</h1>
        <p style="margin:0 0 8px;font-size:12px;">The operating system for AI-generated chaos.</p>
        <p style="margin:0 0 8px;font-size:11px;"><b>Slop Of Fame</b> is a community-driven gallery celebrating the most cursed, hilarious, and absurd AI-generated content.</p>
      </div>
    </div>
    
    <!-- DOMAIN FOR SALE -->
    <div style="background:linear-gradient(135deg,#ffd700,#ff8c00);border:3px solid #b8860b;padding:12px;text-align:center;">
      <p style="margin:0 0 6px;font-size:16px;font-weight:bold;color:#000;">üè∑Ô∏è DOMAIN FOR SALE üè∑Ô∏è</p>
      <p style="margin:0;font-size:12px;color:#333;">This domain is available for purchase.<br>If interested, fill out the form below.</p>
    </div>
    
    <!-- CONTACT FORM -->
    <div class="inset-panel" style="flex:1;padding:12px;overflow:auto;">
      <p style="margin:0 0 10px;font-size:12px;font-weight:bold;">üìß Contact the Owner</p>
      <form action="https://formsubmit.co/nico@niccoloavanzi.com" method="POST" id="contact-form">
        <!-- FormSubmit config -->
        <input type="hidden" name="_subject" value="Domain Inquiry - Slop Of Fame">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_template" value="table">
        <input type="text" name="_honey" style="display:none">
        
        <div class="form-row">
          <label style="font-size:11px;font-weight:bold;">Your Name:</label>
          <input type="text" name="name" required placeholder="John Doe" style="font-size:12px;">
        </div>
        <div class="form-row">
          <label style="font-size:11px;font-weight:bold;">Your Email:</label>
          <input type="email" name="email" required placeholder="you@example.com" style="font-size:12px;">
        </div>
        <div class="form-row">
          <label style="font-size:11px;font-weight:bold;">Message:</label>
          <textarea name="message" required placeholder="I'm interested in purchasing this domain..." rows="3" style="font-size:12px;resize:vertical;"></textarea>
        </div>
        <div class="actions">
          <button type="submit" class="win-cta">üì§ Send Message</button>
        </div>
      </form>
      <p style="margin:10px 0 0;font-size:10px;color:#666;text-align:center;">
        ‚úâÔ∏è If you're interested, you will be contacted by the site owner.<br>
        Your email is safe and will only be used to respond to your inquiry.
      </p>
    </div>
    
    <div style="background:#f0f0f0;padding:6px 10px;font-size:10px;color:#666;border-top:1px solid #ccc;">
      <b>System:</b> v3.1 (Shrimp Jesus Edition) ‚Ä¢ <b>Cursed Level:</b> MAXIMUM ‚Ä¢ ¬© 2025 Slop Of Fame
    </div>
  </div>
  <div class="resize-handle"></div>
</section>

<!-- SLOP OF FAME WINDOW -->
<section class="window" data-win="fame" data-icon="üèÜ" data-title="Slop Of Fame" style="top:60px;left:18%;width:700px;height:500px;">
  <div class="title-bar">
    <div class="title-left"><span>üèÜ</span><span class="title-text">C:\SlopOfFame\HallOfFame.exe</span></div>
    <div class="win-controls">
      <button class="win-btn" data-action="min">_</button>
      <button class="win-btn" data-action="max">‚ñ°</button>
      <button class="win-btn" data-action="close">X</button>
    </div>
  </div>
  <div class="menu-bar"><span><u>F</u>ile</span><span><u>V</u>iew</span><span><u>H</u>elp</span></div>
  <div class="window-body">
    <div style="padding:10px;background:#ffe;border:2px solid #cc0;">
      <p style="margin:0;font-size:12px;">üèÜ <b>TOP SLOPS</b> ‚Äî The best slops selected by our curators. Updated periodically!</p>
    </div>
    <div class="inset-panel" style="flex:1;">
      <div id="fame-list" class="slop-grid">
        <div style="padding:20px;text-align:center;color:#666;">
          <p>üèÜ Hall of Fame is empty</p>
          <p style="font-size:11px;">The best slops will be added here by curators.</p>
        </div>
      </div>
    </div>
    <div class="status-bar">
      <span id="fame-count">0 slop(s) in Hall of Fame</span>
      <span>Curated by humans</span>
    </div>
  </div>
  <div class="resize-handle"></div>
</section>

<!-- SNAKE WINDOW -->
<section class="window" data-win="snake" data-icon="üêç" data-title="Snake" style="top:70px;left:20%;width:450px;height:520px;">
  <div class="title-bar">
    <div class="title-left"><span>üêç</span><span class="title-text">C:\Games\Snake.exe</span></div>
    <div class="win-controls">
      <button class="win-btn" data-action="min">_</button>
      <button class="win-btn" data-action="max">‚ñ°</button>
      <button class="win-btn" data-action="close">X</button>
    </div>
  </div>
  <div class="menu-bar"><span><u>G</u>ame</span><span><u>H</u>elp</span></div>
  <div class="window-body">
    <div class="game-toolbar">
      <button class="win-cta" id="snake-new">New Game</button>
      <button class="win-cta" id="snake-pause">Pause</button>
      <div class="game-readout"><b>Score:</b> <span id="snake-score">0</span></div>
      <div class="game-readout"><b>Best:</b> <span id="snake-best">0</span></div>
    </div>
    <div class="game-hint">Arrow keys / WASD to move ‚Ä¢ Space = pause</div>
    <div class="inset-panel game-panel">
      <canvas id="snake-canvas" class="game-canvas" width="400" height="400"></canvas>
    </div>
    <div class="status-bar">
      <span>Eat the üçé</span>
      <span>Don't hit walls!</span>
    </div>
  </div>
  <div class="resize-handle"></div>
</section>

<!-- VIRUS WINDOW - FIXED SIZE -->
<section class="window" data-win="virus" data-icon="‚ò†Ô∏è" data-title="VIRUS.exe" style="top:100px;left:calc(50% - 220px);width:440px;height:300px;">
  <div class="title-bar" style="background:linear-gradient(90deg,#800,#f00);">
    <div class="title-left"><span>‚ò†Ô∏è</span><span class="title-text">‚ö†Ô∏è VIRUS.exe ‚Äî DANGER ‚ö†Ô∏è</span></div>
    <div class="win-controls">
      <button class="win-btn" data-action="close">X</button>
    </div>
  </div>
  <div class="window-body" style="text-align:center;justify-content:center;gap:12px;padding:20px;">
    <div style="font-size:64px;">üíÄ</div>
    <p style="font-size:18px;font-weight:bold;color:#800;margin:0;">WARNING: VIRUS DETECTED</p>
    <p style="font-size:13px;margin:0;">Do you want to execute VIRUS.exe?</p>
    <p style="font-size:11px;color:#666;margin:0;">This will cause temporary system instability.</p>
    <div class="actions" style="justify-content:center;margin-top:15px;">
      <button class="win-cta" id="virus-execute" style="padding:8px 16px;">Execute Anyway</button>
      <button class="win-cta" onclick="SlopOS.closeWindow('virus')" style="padding:8px 16px;">Cancel</button>
    </div>
  </div>
</section>

<!-- BIN WINDOW -->
<section class="window" data-win="bin" data-icon="üóëÔ∏è" data-title="Bin" style="top:100px;left:12%;width:700px;height:500px;">
  <div class="title-bar">
    <div class="title-left"><span>üóëÔ∏è</span><span class="title-text">Recycle Bin ‚Äî Worst Slops</span></div>
    <div class="win-controls">
      <button class="win-btn" data-action="min">_</button>
      <button class="win-btn" data-action="max">‚ñ°</button>
      <button class="win-btn" data-action="close">X</button>
    </div>
  </div>
  <div class="menu-bar"><span><u>F</u>ile</span><span><u>V</u>iew</span></div>
  <div class="window-body">
    <div style="padding:8px;background:#fdd;border:2px solid #a00;">
      <p style="margin:0;font-size:12px;">üóëÔ∏è <b>TRASH</b> ‚Äî Slops with the most downvotes end up here. Sad.</p>
    </div>
    <div class="inset-panel" style="flex:1;">
      <div id="bin-list" class="slop-grid">
        <div style="padding:20px;text-align:center;color:#666;">
          <p>üóëÔ∏è Bin is empty</p>
          <p style="font-size:11px;">The most downvoted slops will appear here.</p>
        </div>
      </div>
    </div>
    <div class="status-bar">
      <span id="bin-count">0 slop(s) in bin</span>
      <span>Empty Bin: disabled</span>
    </div>
  </div>
  <div class="resize-handle"></div>
</section>

<!-- SUBMIT WINDOW -->
<section class="window" data-win="submit" data-icon="üì§" data-title="Submit" style="top:90px;left:22%;width:550px;height:450px;">
  <div class="title-bar">
    <div class="title-left"><span>üì§</span><span class="title-text">C:\SlopOfFame\Submit.exe</span></div>
    <div class="win-controls">
      <button class="win-btn" data-action="min">_</button>
      <button class="win-btn" data-action="max">‚ñ°</button>
      <button class="win-btn" data-action="close">X</button>
    </div>
  </div>
  <div class="menu-bar"><span><u>F</u>ile</span><span><u>H</u>elp</span></div>
  <div class="window-body">
    <div style="padding:10px;background:#e0f0ff;border:2px solid #06c;">
      <p style="margin:0;font-size:12px;">üì§ <b>SUBMIT YOUR SLOP</b> ‚Äî Paste ONLY a direct link from:</p>
      <p style="margin:4px 0 0;font-size:11px;">‚Ä¢ <b>Sora</b> (OpenAI) ‚Ä¢ <b>Grok</b> (X/Twitter) ‚Ä¢ <b>Google Gemini</b> ‚Ä¢ <b>ChatGPT</b></p>
    </div>
    <div class="form-row">
      <label style="font-size:12px;font-weight:bold;">Slop Link:</label>
      <input type="url" id="submit-url" placeholder="https://..." style="font-size:13px;">
      <p id="submit-error" style="color:#c00;font-size:11px;margin:4px 0 0;display:none;"></p>
    </div>
    <div class="actions">
      <button class="win-cta" id="submit-btn">üì§ Submit Slop</button>
    </div>
    <div class="disclaimer">
      <b>‚ö†Ô∏è DISCLAIMER:</b> Content submitted through this form is uploaded by users, not by the site administrator. The administrator disclaims all responsibility for the content of submitted slops. By submitting a link, you agree that the content will be public and voteable by all users.
    </div>
    <div id="submit-success" style="display:none;padding:10px;background:#dfd;border:2px solid #0a0;text-align:center;">
      <p style="margin:0;font-size:14px;">‚úÖ <b>Slop submitted successfully!</b></p>
      <p style="margin:4px 0 0;font-size:11px;">You can view it in "Your Slops"</p>
    </div>
    <div class="status-bar">
      <span>Links only, no uploads</span>
      <span>Max 1 link at a time</span>
    </div>
  </div>
  <div class="resize-handle"></div>
</section>

<!-- YOUR SLOPS WINDOW -->
<section class="window" data-win="yourslops" data-icon="üìÅ" data-title="Your Slops" style="top:50px;left:10%;width:800px;height:600px;">
  <div class="title-bar">
    <div class="title-left"><span>üìÅ</span><span class="title-text">C:\SlopOfFame\YourSlops\</span></div>
    <div class="win-controls">
      <button class="win-btn" data-action="min">_</button>
      <button class="win-btn" data-action="max">‚ñ°</button>
      <button class="win-btn" data-action="close">X</button>
    </div>
  </div>
  <div class="menu-bar"><span><u>F</u>ile</span><span><u>V</u>iew</span><span><u>H</u>elp</span></div>
  <div class="window-body">
    <div class="disclaimer">
      <b>‚ö†Ô∏è DISCLAIMER:</b> The content in this folder was uploaded by community users. The site administrator is not responsible for the content of submitted slops. By viewing this page, you agree to see AI-generated content submitted by third parties.
    </div>
    <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
      <button class="win-cta" onclick="SlopOS.openWindow('submit')">üì§ Submit New Slop</button>
      <button class="win-cta" id="refresh-slops">üîÑ Refresh</button>
      <span style="font-size:11px;color:#666;">Click üëç or üëé to vote!</span>
    </div>
    <div class="inset-panel" style="flex:1;">
      <div id="yourslops-list" class="slop-grid">
        <div style="padding:20px;text-align:center;color:#666;">
          <p>üìÅ No slops yet</p>
          <p style="font-size:11px;">Use "Submit" to send the first slop!</p>
        </div>
      </div>
    </div>
    <div class="status-bar">
      <span id="yourslops-count">0 slop(s)</span>
      <span>Community content</span>
    </div>
  </div>
  <div class="resize-handle"></div>
</section>

</main>

<!-- START MENU -->
<div id="start-menu">
  <div class="start-wrap">
    <div class="start-sidebar">SlopOS 97.5</div>
    <div class="start-list">
      <div class="start-item" data-open="about">‚ÑπÔ∏è <span>About</span></div>
      <div class="start-item" data-open="fame">üèÜ <span>Slop Of Fame</span></div>
      <div class="start-item" data-open="snake">üêç <span>Snake</span></div>
      <div class="start-item" data-open="virus">‚ò†Ô∏è <span>VIRUS.exe</span></div>
      <div class="start-sep"></div>
      <div class="start-item" data-open="bin">üóëÔ∏è <span>Bin</span></div>
      <div class="start-item" data-open="submit">üì§ <span>Submit</span></div>
      <div class="start-item" data-open="yourslops">üìÅ <span>Your Slops</span></div>
      <div class="start-sep"></div>
      <div class="start-item" data-action="shutdown">üîå <span>Shut Down...</span></div>
    </div>
  </div>
</div>

<!-- TASKBAR -->
<div id="taskbar">
  <button class="start-btn" id="start-button" type="button">
    <span style="font-size:16px;">ü™ü</span> Start
  </button>
  <div class="taskbar-windows" id="taskbar-windows"></div>
  <div class="inset-panel clock">
    <span id="clock">--:--</span>
  </div>
</div>

<!-- SHUTDOWN OVERLAY -->
<div id="shutdown-overlay">
  <h1>üíÄ SlopOS is shutting down...</h1>
  <p>It's now safe to turn off your computer.</p>
  <p style="margin-top:30px;font-size:12px;color:#888;">(Click anywhere to restart)</p>
</div>

<script>
/* SlopOS 97.5 v3.1 ‚Äî Full Featured OS Simulation */
const SlopOS = (function(){
  const qs = (s, el=document) => el.querySelector(s);
  const qsa = (s, el=document) => [...el.querySelectorAll(s)];
  
  const state = {
    z: 100,
    drag: null,
    resize: null,
    activeWin: null,
    slops: [],
    votes: {},
    fameSlops: [],
    iconDrag: null,
    selectedIcons: new Set(),
    marquee: null
  };
  
  const desktop = qs('#desktop');
  const desktopIcons = qs('#desktop-icons');
  const startMenu = qs('#start-menu');
  const startBtn = qs('#start-button');
  const taskbarWindows = qs('#taskbar-windows');
  const clockEl = qs('#clock');
  const shutdownOverlay = qs('#shutdown-overlay');
  const selectionBox = qs('#selection-box');
  
  // === STORAGE ===
  async function loadSlops() {
    try {
      const result = await window.storage.get('slops', true);
      state.slops = result ? JSON.parse(result.value) : [];
    } catch(e) { state.slops = []; }
  }
  
  async function saveSlops() {
    try { await window.storage.set('slops', JSON.stringify(state.slops), true); } catch(e) {}
  }
  
  async function loadVotes() {
    try {
      const result = await window.storage.get('user-votes', false);
      state.votes = result ? JSON.parse(result.value) : {};
    } catch(e) { state.votes = {}; }
  }
  
  async function saveVotes() {
    try { await window.storage.set('user-votes', JSON.stringify(state.votes), false); } catch(e) {}
  }
  
  async function loadFame() {
    try {
      const result = await window.storage.get('fame-slops', true);
      state.fameSlops = result ? JSON.parse(result.value) : [];
    } catch(e) { state.fameSlops = []; }
  }
  
  function saveIconPositions() {
    const positions = {};
    qsa('.desktop-icon').forEach(icon => {
      const id = icon.dataset.open;
      positions[id] = { left: parseInt(icon.style.left) || 20, top: parseInt(icon.style.top) || 20 };
    });
    localStorage.setItem('icon-positions', JSON.stringify(positions));
  }
  
  function loadIconPositions() {
    try {
      const saved = localStorage.getItem('icon-positions');
      if(saved) {
        const positions = JSON.parse(saved);
        qsa('.desktop-icon').forEach(icon => {
          const id = icon.dataset.open;
          if(positions[id]) {
            icon.style.left = positions[id].left + 'px';
            icon.style.top = positions[id].top + 'px';
          }
        });
      }
    } catch(e) {}
  }
  
  // === CLOCK ===
  function updateClock() {
    const now = new Date();
    if(clockEl) clockEl.textContent = now.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
  }
  setInterval(updateClock, 1000);
  updateClock();
  
  // === START MENU ===
  function toggleStart(force) {
    if(!startMenu) return;
    const open = typeof force === 'boolean' ? force : !startMenu.classList.contains('is-open');
    startMenu.classList.toggle('is-open', open);
  }
  
  if(startBtn) startBtn.addEventListener('click', e => { e.stopPropagation(); toggleStart(); });
  
  document.addEventListener('click', e => {
    if(startMenu && startMenu.classList.contains('is-open')) {
      if(!startMenu.contains(e.target) && !startBtn.contains(e.target)) toggleStart(false);
    }
  });
  
  // === WINDOW MANAGEMENT ===
  function getWin(id) { return qs(`.window[data-win="${id}"]`); }
  
  function bringToFront(win) {
    state.z++;
    win.style.zIndex = state.z;
    state.activeWin = win.dataset.win;
    qsa('.task-btn').forEach(b => b.classList.toggle('active', b.dataset.win === win.dataset.win));
  }
  
  function ensureTaskButton(win) {
    const id = win.dataset.win;
    let btn = qs(`.task-btn[data-win="${id}"]`);
    if(!btn && taskbarWindows) {
      btn = document.createElement('button');
      btn.className = 'task-btn';
      btn.type = 'button';
      btn.dataset.win = id;
      btn.innerHTML = `<span>${win.dataset.icon || 'ü™ü'}</span><span>${win.dataset.title || id}</span>`;
      btn.addEventListener('click', () => {
        const w = getWin(id);
        if(w.classList.contains('is-open') && state.activeWin === id) minimizeWindow(id);
        else openWindow(id);
      });
      taskbarWindows.appendChild(btn);
    }
    return btn;
  }
  
  function openWindow(id, opts={}) {
    const win = getWin(id);
    if(!win) return;
    win.classList.add('is-open');
    win.dataset.minimized = 'false';
    if(opts.center) centerWindow(win);
    ensureTaskButton(win);
    bringToFront(win);
    if(id === 'snake') snakeInit();
    if(id === 'yourslops') renderYourSlops();
    if(id === 'bin') renderBin();
    if(id === 'fame') renderFame();
  }
  
  function closeWindow(id) {
    const win = getWin(id);
    if(!win) return;
    win.classList.remove('is-open');
    qsa(`.task-btn[data-win="${id}"]`).forEach(b => b.remove());
    if(state.activeWin === id) state.activeWin = null;
    if(id === 'snake') snakePause();
  }
  
  function minimizeWindow(id) {
    const win = getWin(id);
    if(!win) return;
    win.classList.remove('is-open');
    win.dataset.minimized = 'true';
    state.activeWin = null;
    if(id === 'snake') snakePause();
  }
  
  function toggleMaximize(id) {
    const win = getWin(id);
    if(!win) return;
    if(!win.classList.contains('maximized')) {
      win.dataset.prevStyle = JSON.stringify({top:win.style.top,left:win.style.left,width:win.style.width,height:win.style.height});
      win.classList.add('maximized');
    } else {
      win.classList.remove('maximized');
      try { Object.assign(win.style, JSON.parse(win.dataset.prevStyle || '{}')); } catch(e) {}
    }
    bringToFront(win);
  }
  
  function centerWindow(win) {
    const dRect = desktop.getBoundingClientRect();
    const wRect = win.getBoundingClientRect();
    win.style.left = Math.max(10, (dRect.width - wRect.width) / 2) + 'px';
    win.style.top = Math.max(10, (dRect.height - wRect.height) / 2) + 'px';
  }
  
  // === WINDOW DRAGGING ===
  function startDrag(e, win) {
    if(win.classList.contains('maximized')) return;
    e.preventDefault();
    bringToFront(win);
    state.drag = { win, startX: e.clientX, startY: e.clientY, startTop: parseInt(win.style.top)||80, startLeft: parseInt(win.style.left)||100 };
    document.addEventListener('mousemove', onDrag);
    document.addEventListener('mouseup', endDrag, {once: true});
  }
  
  function onDrag(e) {
    if(!state.drag) return;
    const {win, startX, startY, startTop, startLeft} = state.drag;
    win.style.top = (startTop + e.clientY - startY) + 'px';
    win.style.left = (startLeft + e.clientX - startX) + 'px';
  }
  
  function endDrag() { state.drag = null; document.removeEventListener('mousemove', onDrag); }
  
  // === WINDOW RESIZING ===
  function startResize(e, win) {
    if(win.classList.contains('maximized')) return;
    e.preventDefault(); e.stopPropagation();
    bringToFront(win);
    state.resize = { win, startX: e.clientX, startY: e.clientY, startW: win.offsetWidth, startH: win.offsetHeight };
    document.addEventListener('mousemove', onResize);
    document.addEventListener('mouseup', endResize, {once: true});
  }
  
  function onResize(e) {
    if(!state.resize) return;
    const {win, startX, startY, startW, startH} = state.resize;
    win.style.width = Math.max(260, startW + e.clientX - startX) + 'px';
    win.style.height = Math.max(160, startH + e.clientY - startY) + 'px';
  }
  
  function endResize() { state.resize = null; document.removeEventListener('mousemove', onResize); }
  
  // === ICON SELECTION & DRAGGING ===
  function clearSelection() {
    state.selectedIcons.clear();
    qsa('.desktop-icon').forEach(i => i.classList.remove('selected'));
  }
  
  function selectIcon(icon, additive = false) {
    if(!additive) clearSelection();
    state.selectedIcons.add(icon);
    icon.classList.add('selected');
  }
  
  function toggleIconSelection(icon) {
    if(state.selectedIcons.has(icon)) {
      state.selectedIcons.delete(icon);
      icon.classList.remove('selected');
    } else {
      state.selectedIcons.add(icon);
      icon.classList.add('selected');
    }
  }
  
  function startIconDrag(e, icon) {
    e.preventDefault(); e.stopPropagation();
    if(!state.selectedIcons.has(icon)) selectIcon(icon, e.ctrlKey || e.shiftKey);
    
    const iconsData = [];
    state.selectedIcons.forEach(ic => {
      iconsData.push({ icon: ic, startLeft: parseInt(ic.style.left)||20, startTop: parseInt(ic.style.top)||20 });
      ic.classList.add('dragging');
    });
    
    state.iconDrag = { startX: e.clientX, startY: e.clientY, icons: iconsData };
    document.addEventListener('mousemove', onIconDrag);
    document.addEventListener('mouseup', endIconDrag, {once: true});
  }
  
  function onIconDrag(e) {
    if(!state.iconDrag) return;
    const {startX, startY, icons} = state.iconDrag;
    const dx = e.clientX - startX, dy = e.clientY - startY;
    const dRect = desktop.getBoundingClientRect();
    
    icons.forEach(({icon, startLeft, startTop}) => {
      let newLeft = Math.max(0, Math.min(startLeft + dx, dRect.width - 84));
      let newTop = Math.max(0, Math.min(startTop + dy, dRect.height - 90));
      icon.style.left = newLeft + 'px';
      icon.style.top = newTop + 'px';
    });
  }
  
  function endIconDrag() {
    if(state.iconDrag) {
      state.iconDrag.icons.forEach(({icon}) => icon.classList.remove('dragging'));
      saveIconPositions();
    }
    state.iconDrag = null;
    document.removeEventListener('mousemove', onIconDrag);
  }
  
  // === MARQUEE SELECTION ===
  function startMarquee(e) {
    if(e.target !== desktopIcons && e.target !== desktop) return;
    e.preventDefault();
    const dRect = desktop.getBoundingClientRect();
    state.marquee = { startX: e.clientX - dRect.left, startY: e.clientY - dRect.top, dRect };
    if(!e.ctrlKey && !e.shiftKey) clearSelection();
    selectionBox.style.cssText = `left:${state.marquee.startX}px;top:${state.marquee.startY}px;width:0;height:0;display:block;`;
    document.addEventListener('mousemove', onMarquee);
    document.addEventListener('mouseup', endMarquee, {once: true});
  }
  
  function onMarquee(e) {
    if(!state.marquee) return;
    const {startX, startY, dRect} = state.marquee;
    const currentX = e.clientX - dRect.left, currentY = e.clientY - dRect.top;
    const left = Math.min(startX, currentX), top = Math.min(startY, currentY);
    const width = Math.abs(currentX - startX), height = Math.abs(currentY - startY);
    selectionBox.style.cssText = `left:${left}px;top:${top}px;width:${width}px;height:${height}px;display:block;`;
    
    const rect = {left, top, right: left + width, bottom: top + height};
    qsa('.desktop-icon').forEach(icon => {
      const iconRect = { left: parseInt(icon.style.left)||0, top: parseInt(icon.style.top)||0 };
      iconRect.right = iconRect.left + 84;
      iconRect.bottom = iconRect.top + 90;
      const intersects = !(iconRect.right < rect.left || iconRect.left > rect.right || iconRect.bottom < rect.top || iconRect.top > rect.bottom);
      if(intersects) { state.selectedIcons.add(icon); icon.classList.add('selected'); }
      else if(!e.ctrlKey && !e.shiftKey) { state.selectedIcons.delete(icon); icon.classList.remove('selected'); }
    });
  }
  
  function endMarquee() { state.marquee = null; selectionBox.style.display = 'none'; document.removeEventListener('mousemove', onMarquee); }
  
  // === WIRE WINDOWS ===
  function wireWindows() {
    qsa('.window').forEach(win => {
      const titleBar = qs('.title-bar', win);
      if(titleBar) {
        titleBar.addEventListener('mousedown', e => { if(!e.target.closest('.win-controls')) startDrag(e, win); });
        titleBar.addEventListener('dblclick', e => { if(!e.target.closest('.win-controls')) toggleMaximize(win.dataset.win); });
      }
      const resizeHandle = qs('.resize-handle', win);
      if(resizeHandle) resizeHandle.addEventListener('mousedown', e => startResize(e, win));
      qsa('.win-btn', win).forEach(btn => {
        btn.addEventListener('click', () => {
          const action = btn.dataset.action, id = win.dataset.win;
          if(action === 'close') closeWindow(id);
          if(action === 'min') minimizeWindow(id);
          if(action === 'max') toggleMaximize(id);
        });
      });
      win.addEventListener('mousedown', () => bringToFront(win));
    });
  }
  
  // === DESKTOP ICONS ===
  function wireIcons() {
    qsa('.desktop-icon').forEach(icon => {
      let isDragging = false;
      let startX, startY;
      
      icon.addEventListener('dblclick', e => { 
        e.stopPropagation(); 
        if(!isDragging) {
          const winId = icon.dataset.open; 
          if(winId) openWindow(winId, {center: true}); 
        }
      });
      
      icon.addEventListener('mousedown', e => {
        if(e.button !== 0) return;
        e.preventDefault();
        isDragging = false;
        startX = e.clientX;
        startY = e.clientY;
        
        // Select on mousedown
        if(!state.selectedIcons.has(icon)) {
          (e.ctrlKey || e.shiftKey) ? toggleIconSelection(icon) : selectIcon(icon);
        }
        
        const onMouseMove = (moveEvent) => {
          const dx = Math.abs(moveEvent.clientX - startX);
          const dy = Math.abs(moveEvent.clientY - startY);
          // Only start drag if moved more than 5 pixels
          if(dx > 5 || dy > 5) {
            isDragging = true;
            document.removeEventListener('mousemove', onMouseMove);
            startIconDrag(moveEvent, icon);
          }
        };
        
        const onMouseUp = () => {
          document.removeEventListener('mousemove', onMouseMove);
          document.removeEventListener('mouseup', onMouseUp);
        };
        
        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('mouseup', onMouseUp);
      });
    });
    desktopIcons.addEventListener('mousedown', e => { if(e.target === desktopIcons) startMarquee(e); });
    desktop.addEventListener('click', e => { if(e.target === desktop || e.target === desktopIcons) clearSelection(); });
  }
  
  // === START MENU ITEMS ===
  function wireStartMenu() {
    qsa('.start-item').forEach(item => {
      item.addEventListener('click', () => {
        const winId = item.dataset.open, action = item.dataset.action;
        if(winId) { openWindow(winId, {center: true}); toggleStart(false); }
        if(action === 'shutdown') { doShutdown(); toggleStart(false); }
      });
    });
  }
  
  // === SHUTDOWN ===
  function doShutdown() { shutdownOverlay.classList.add('active'); snakePause(); }
  shutdownOverlay.addEventListener('click', () => shutdownOverlay.classList.remove('active'));
  
  // === VIRUS ===
  function executeVirus() {
    closeWindow('virus');
    document.body.classList.add('virus-mode');
    const messages = ['üíÄ DELETING SYSTEM32...','ü¶ê SHRIMP JESUS HAS ARRIVED','üëÜ FINGERS DETECTED: 47','üçù SPAGHETTI CODE ACTIVATED','‚ò†Ô∏è YOUR SOUL HAS BEEN UPLOADED','ü§ñ AI OVERLORDS AWAKENING...','üíæ DOWNLOADING MORE RAM...','üî• EVERYTHING IS FINE'];
    let popupCount = 0;
    const popupInterval = setInterval(() => {
      if(popupCount >= 8) return;
      const popup = document.createElement('div');
      popup.style.cssText = `position:fixed;top:${Math.random()*60+10}%;left:${Math.random()*60+10}%;background:#c0c0c0;border:2px outset #fff;padding:20px;z-index:${100000+popupCount};font-family:var(--font);box-shadow:4px 4px 0 rgba(0,0,0,.5);`;
      popup.innerHTML = `<div style="background:linear-gradient(90deg,#800,#f00);color:#fff;padding:4px 8px;margin:-20px -20px 10px;font-weight:bold;">‚ö†Ô∏è CRITICAL ERROR</div><p style="margin:0;font-size:14px;">${messages[Math.floor(Math.random()*messages.length)]}</p>`;
      document.body.appendChild(popup);
      popupCount++;
      setTimeout(() => popup.remove(), 2000 + Math.random()*1000);
    }, 300);
    
    setTimeout(() => {
      clearInterval(popupInterval);
      document.body.classList.remove('virus-mode');
      const fixed = document.createElement('div');
      fixed.style.cssText = `position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#dfd;border:2px solid #0a0;padding:30px;z-index:200000;font-family:var(--font);text-align:center;`;
      fixed.innerHTML = `<p style="font-size:24px;margin:0 0 10px;">‚úÖ</p><p style="margin:0;font-weight:bold;">VIRUS NEUTRALIZED</p><p style="margin:5px 0 0;font-size:11px;">System restored. Probably.</p>`;
      document.body.appendChild(fixed);
      setTimeout(() => fixed.remove(), 2000);
    }, 5000);
  }
  
  qs('#virus-execute').addEventListener('click', executeVirus);
  
  // === SUBMIT FORM ===
  const allowedDomains = ['sora','openai.com','chatgpt.com','grok','x.com','twitter.com','gemini','google.com','bard.google.com','aistudio.google.com','labs.google','youtube.com','youtu.be','vimeo.com'];
  
  function isValidSlopUrl(url) {
    try { return allowedDomains.some(d => new URL(url).hostname.toLowerCase().includes(d)); } catch(e) { return false; }
  }
  
  async function submitSlop() {
    const urlInput = qs('#submit-url'), errorEl = qs('#submit-error'), successEl = qs('#submit-success');
    errorEl.style.display = 'none'; successEl.style.display = 'none';
    const url = urlInput.value.trim();
    
    if(!url) { errorEl.textContent = '‚ùå Please enter a link!'; errorEl.style.display = 'block'; return; }
    if(!isValidSlopUrl(url)) { errorEl.textContent = '‚ùå Invalid link! Only accepted: Sora, Grok, ChatGPT, Google Gemini'; errorEl.style.display = 'block'; return; }
    if(state.slops.some(s => s.url === url)) { errorEl.textContent = '‚ùå This slop has already been submitted!'; errorEl.style.display = 'block'; return; }
    
    state.slops.push({ id: Date.now().toString(36) + Math.random().toString(36).substr(2,5), url, timestamp: Date.now(), upvotes: 0, downvotes: 0 });
    await saveSlops();
    urlInput.value = '';
    successEl.style.display = 'block';
    setTimeout(() => successEl.style.display = 'none', 3000);
  }
  
  qs('#submit-btn').addEventListener('click', submitSlop);
  qs('#submit-url').addEventListener('keypress', e => { if(e.key === 'Enter') submitSlop(); });
  
  // === VIDEO PREVIEW WITH CLICK-TO-PLAY ===
  function getVideoInfo(url) {
    try {
      const parsed = new URL(url), host = parsed.hostname.toLowerCase();
      
      // YouTube
      if(host.includes('youtube.com') || host.includes('youtu.be')) {
        const videoId = host.includes('youtu.be') ? parsed.pathname.slice(1) : parsed.searchParams.get('v');
        if(videoId) return { type: 'youtube', id: videoId, embedUrl: `https://www.youtube.com/embed/${videoId}?autoplay=1` };
      }
      
      // Vimeo
      if(host.includes('vimeo.com')) {
        const videoId = parsed.pathname.split('/').filter(Boolean)[0];
        if(videoId && /^\d+$/.test(videoId)) return { type: 'vimeo', id: videoId, embedUrl: `https://player.vimeo.com/video/${videoId}?autoplay=1` };
      }
      
      // X/Twitter
      if(host.includes('x.com') || host.includes('twitter.com')) return { type: 'x', id: null, embedUrl: null };
      
      // OpenAI/Sora/ChatGPT
      if(host.includes('openai.com') || host.includes('sora') || host.includes('chatgpt')) return { type: 'openai', id: null, embedUrl: null };
      
      // Google/Gemini
      if(host.includes('google.com') || host.includes('gemini') || host.includes('bard')) return { type: 'gemini', id: null, embedUrl: null };
      
      // Grok
      if(host.includes('grok')) return { type: 'grok', id: null, embedUrl: null };
      
    } catch(e) {}
    return { type: 'unknown', id: null, embedUrl: null };
  }
  
  function getVideoThumbnail(url, slopId) {
    const info = getVideoInfo(url);
    
    // YouTube - thumbnail con click to play
    if(info.type === 'youtube') {
      return `<div class="video-thumbnail" data-slop-id="${slopId}" data-embed-url="${info.embedUrl}" style="cursor:pointer;width:100%;height:100%;position:relative;">
        <img src="https://img.youtube.com/vi/${info.id}/hqdefault.jpg" 
          style="width:100%;height:100%;object-fit:cover;" 
          onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 9%22><rect fill=%22%23111%22 width=%2216%22 height=%229%22/><text x=%228%22 y=%225%22 text-anchor=%22middle%22 fill=%22%23fff%22 font-size=%222%22>YouTube</text></svg>'"
          alt="Video thumbnail"/>
        <div class="play-button">‚ñ∂</div>
        <div class="video-badge youtube">YouTube</div>
      </div>`;
    }
    
    // Vimeo - placeholder con click to play
    if(info.type === 'vimeo') {
      return `<div class="video-thumbnail" data-slop-id="${slopId}" data-embed-url="${info.embedUrl}" style="cursor:pointer;width:100%;height:100%;position:relative;background:linear-gradient(135deg,#1ab7ea,#162221);">
        <div class="play-button">‚ñ∂</div>
        <div class="video-badge vimeo">Vimeo</div>
        <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin-top:-20px;font-size:48px;">üé¨</div>
      </div>`;
    }
    
    // X/Twitter - no embed disponibile
    if(info.type === 'x') {
      return `<div class="slop-preview-placeholder" style="background:linear-gradient(135deg,#1a1a2e,#0f0f1a);">
        <span style="font-size:56px;">ùïè</span>
        <span style="color:#fff;">X/Twitter Video</span>
        <span style="font-size:10px;color:#888;">No embed available - click link below</span>
        <div class="video-badge x">X</div>
      </div>`;
    }
    
    // OpenAI/Sora
    if(info.type === 'openai') {
      return `<div class="slop-preview-placeholder" style="background:linear-gradient(135deg,#10a37f,#1a7f5a);">
        <span style="font-size:48px;">ü§ñ</span>
        <span style="color:#fff;">OpenAI / Sora</span>
        <span style="font-size:10px;color:#cfc;">No embed available - click link below</span>
        <div class="video-badge openai">Sora</div>
      </div>`;
    }
    
    // Google/Gemini
    if(info.type === 'gemini') {
      return `<div class="slop-preview-placeholder" style="background:linear-gradient(135deg,#4285f4,#34a853,#fbbc05,#ea4335);background-size:400% 400%;animation:geminiGrad 3s ease infinite;">
        <span style="font-size:48px;">‚ú®</span>
        <span style="color:#fff;">Google Gemini</span>
        <span style="font-size:10px;color:#fff;">No embed available - click link below</span>
        <div class="video-badge gemini">Gemini</div>
      </div>`;
    }
    
    // Grok
    if(info.type === 'grok') {
      return `<div class="slop-preview-placeholder" style="background:linear-gradient(135deg,#ff6b35,#f72585);">
        <span style="font-size:48px;">üîÆ</span>
        <span style="color:#fff;">Grok</span>
        <span style="font-size:10px;color:#fcc;">No embed available - click link below</span>
        <div class="video-badge grok">Grok</div>
      </div>`;
    }
    
    return `<div class="slop-preview-placeholder" style="background:#222;">
      <span style="font-size:48px;">üé¨</span>
      <span>Video</span>
      <span style="font-size:10px;color:#888;">Click link below to view</span>
    </div>`;
  }
  
  // Click handler per play video
  function initVideoPlayers() {
    document.addEventListener('click', e => {
      const thumbnail = e.target.closest('.video-thumbnail');
      if(thumbnail && thumbnail.dataset.embedUrl) {
        const embedUrl = thumbnail.dataset.embedUrl;
        thumbnail.innerHTML = `<iframe src="${embedUrl}" style="width:100%;height:100%;border:none;" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`;
        thumbnail.style.cursor = 'default';
      }
    });
  }
  
  function getSourceName(url) {
    const host = url.toLowerCase();
    if(host.includes('sora')) return 'Sora';
    if(host.includes('chatgpt') || host.includes('openai')) return 'ChatGPT/OpenAI';
    if(host.includes('grok')) return 'Grok';
    if(host.includes('x.com') || host.includes('twitter')) return 'X/Twitter';
    if(host.includes('youtube') || host.includes('youtu.be')) return 'YouTube';
    if(host.includes('vimeo')) return 'Vimeo';
    if(host.includes('gemini') || host.includes('bard') || host.includes('google')) return 'Google Gemini';
    return 'AI';
  }
  
  async function vote(slopId, direction) {
    const slop = state.slops.find(s => s.id === slopId);
    if(!slop) return;
    const prevVote = state.votes[slopId];
    if(prevVote === 'up') slop.upvotes = Math.max(0, slop.upvotes - 1);
    if(prevVote === 'down') slop.downvotes = Math.max(0, slop.downvotes - 1);
    if(prevVote === direction) delete state.votes[slopId];
    else { state.votes[slopId] = direction; if(direction === 'up') slop.upvotes++; if(direction === 'down') slop.downvotes++; }
    await saveSlops(); await saveVotes();
    renderYourSlops(); renderBin();
  }
  
  function createSlopCard(slop, showVoting = true) {
    const userVote = state.votes[slop.id], score = slop.upvotes - slop.downvotes;
    const date = new Date(slop.timestamp).toLocaleDateString(), preview = getVideoThumbnail(slop.url, slop.id);
    return `<div class="slop-card" data-id="${slop.id}">
      <div class="slop-preview">${preview}</div>
      <div style="font-size:11px;color:#666;"><b>${getSourceName(slop.url)}</b> ‚Ä¢ ${date}</div>
      <a class="slop-link" href="${slop.url}" target="_blank" rel="noopener">${slop.url}</a>
      ${showVoting ? `<div class="slop-votes">
        <button class="vote-btn ${userVote === 'up' ? 'voted' : ''}" onclick="SlopOS.vote('${slop.id}', 'up')">üëç <span>${slop.upvotes}</span></button>
        <button class="vote-btn ${userVote === 'down' ? 'voted-down' : ''}" onclick="SlopOS.vote('${slop.id}', 'down')">üëé <span>${slop.downvotes}</span></button>
        <span style="font-size:11px;color:#666;">Score: ${score}</span>
      </div>` : ''}</div>`;
  }
  
  function renderYourSlops() {
    const container = qs('#yourslops-list'), countEl = qs('#yourslops-count');
    if(state.slops.length === 0) container.innerHTML = `<div style="padding:20px;text-align:center;color:#666;"><p>üìÅ No slops yet</p><p style="font-size:11px;">Use "Submit" to send the first slop!</p></div>`;
    else container.innerHTML = [...state.slops].sort((a,b) => b.timestamp - a.timestamp).map(s => createSlopCard(s)).join('');
    if(countEl) countEl.textContent = `${state.slops.length} slop(s)`;
  }
  
  function renderBin() {
    const container = qs('#bin-list'), countEl = qs('#bin-count');
    const trashed = state.slops.filter(s => (s.downvotes - s.upvotes) > 0).sort((a,b) => (b.downvotes - b.upvotes) - (a.downvotes - a.upvotes));
    if(trashed.length === 0) container.innerHTML = `<div style="padding:20px;text-align:center;color:#666;"><p>üóëÔ∏è Bin is empty</p><p style="font-size:11px;">The most downvoted slops will appear here.</p></div>`;
    else container.innerHTML = trashed.map(s => createSlopCard(s)).join('');
    if(countEl) countEl.textContent = `${trashed.length} slop(s) in bin`;
  }
  
  function renderFame() {
    const container = qs('#fame-list'), countEl = qs('#fame-count');
    if(state.fameSlops.length === 0) container.innerHTML = `<div style="padding:20px;text-align:center;color:#666;"><p>üèÜ Hall of Fame is empty</p><p style="font-size:11px;">The best slops will be added here by curators.</p></div>`;
    else container.innerHTML = state.fameSlops.map(s => createSlopCard(s, false)).join('');
    if(countEl) countEl.textContent = `${state.fameSlops.length} slop(s) in Hall of Fame`;
  }
  
  qs('#refresh-slops').addEventListener('click', async () => { await loadSlops(); await loadVotes(); renderYourSlops(); });
  
  // === SNAKE GAME ===
  let snake = { canvas:null, ctx:null, running:false, interval:null, gridSize:20, snake:[], food:null, dir:{x:1,y:0}, nextDir:{x:1,y:0}, score:0, best:0, speed:100 };
  
  function snakeInit() {
    if(snake.canvas) return;
    snake.canvas = qs('#snake-canvas');
    if(!snake.canvas) return;
    snake.ctx = snake.canvas.getContext('2d');
    snake.best = parseInt(localStorage.getItem('snake-best') || '0');
    qs('#snake-best').textContent = snake.best;
    snakeNew(); snakeDraw();
  }
  
  function snakeNew() {
    const cols = Math.floor(snake.canvas.width / snake.gridSize), rows = Math.floor(snake.canvas.height / snake.gridSize);
    const midX = Math.floor(cols / 2), midY = Math.floor(rows / 2);
    snake.snake = [{x:midX,y:midY},{x:midX-1,y:midY},{x:midX-2,y:midY}];
    snake.dir = {x:1,y:0}; snake.nextDir = {x:1,y:0}; snake.score = 0;
    qs('#snake-score').textContent = '0';
    snakePlaceFood();
  }
  
  function snakePlaceFood() {
    const cols = Math.floor(snake.canvas.width / snake.gridSize), rows = Math.floor(snake.canvas.height / snake.gridSize);
    let pos;
    do { pos = {x: Math.floor(Math.random() * cols), y: Math.floor(Math.random() * rows)}; }
    while(snake.snake.some(s => s.x === pos.x && s.y === pos.y));
    snake.food = pos;
  }
  
  function snakeStep() {
    if(!snake.running) return;
    snake.dir = snake.nextDir;
    const head = snake.snake[0], newHead = {x: head.x + snake.dir.x, y: head.y + snake.dir.y};
    const cols = Math.floor(snake.canvas.width / snake.gridSize), rows = Math.floor(snake.canvas.height / snake.gridSize);
    if(newHead.x < 0 || newHead.x >= cols || newHead.y < 0 || newHead.y >= rows) { snakeGameOver(); return; }
    if(snake.snake.some(s => s.x === newHead.x && s.y === newHead.y)) { snakeGameOver(); return; }
    snake.snake.unshift(newHead);
    if(newHead.x === snake.food.x && newHead.y === snake.food.y) {
      snake.score++; qs('#snake-score').textContent = snake.score;
      if(snake.score > snake.best) { snake.best = snake.score; qs('#snake-best').textContent = snake.best; localStorage.setItem('snake-best', snake.best); }
      snakePlaceFood();
    } else snake.snake.pop();
    snakeDraw();
  }
  
  function snakeDraw() {
    const ctx = snake.ctx, g = snake.gridSize;
    ctx.fillStyle = '#111'; ctx.fillRect(0, 0, snake.canvas.width, snake.canvas.height);
    ctx.strokeStyle = '#222'; ctx.lineWidth = 0.5;
    for(let x = 0; x <= snake.canvas.width; x += g) { ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, snake.canvas.height); ctx.stroke(); }
    for(let y = 0; y <= snake.canvas.height; y += g) { ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(snake.canvas.width, y); ctx.stroke(); }
    snake.snake.forEach((seg, i) => { ctx.fillStyle = i === 0 ? '#0f0' : '#0a0'; ctx.fillRect(seg.x * g + 1, seg.y * g + 1, g - 2, g - 2); });
    if(snake.food) { ctx.fillStyle = '#f00'; ctx.beginPath(); ctx.arc(snake.food.x * g + g/2, snake.food.y * g + g/2, g/2 - 2, 0, Math.PI * 2); ctx.fill(); }
    if(!snake.running && snake.snake.length > 0) {
      ctx.fillStyle = 'rgba(0,0,0,0.7)'; ctx.fillRect(0, 0, snake.canvas.width, snake.canvas.height);
      ctx.fillStyle = '#fff'; ctx.font = '20px monospace'; ctx.textAlign = 'center';
      ctx.fillText('PAUSED', snake.canvas.width/2, snake.canvas.height/2);
      ctx.font = '12px monospace'; ctx.fillText('Press SPACE to continue', snake.canvas.width/2, snake.canvas.height/2 + 25);
    }
  }
  
  function snakeGameOver() {
    snakePause();
    const ctx = snake.ctx;
    ctx.fillStyle = 'rgba(128,0,0,0.8)'; ctx.fillRect(0, 0, snake.canvas.width, snake.canvas.height);
    ctx.fillStyle = '#fff'; ctx.font = '24px monospace'; ctx.textAlign = 'center';
    ctx.fillText('GAME OVER', snake.canvas.width/2, snake.canvas.height/2 - 10);
    ctx.font = '14px monospace'; ctx.fillText(`Score: ${snake.score}`, snake.canvas.width/2, snake.canvas.height/2 + 20);
    ctx.font = '12px monospace'; ctx.fillText('Click NEW GAME to restart', snake.canvas.width/2, snake.canvas.height/2 + 45);
  }
  
  function snakeResume() { if(!snake.canvas) snakeInit(); if(snake.running) return; snake.running = true; snake.interval = setInterval(snakeStep, snake.speed); snakeDraw(); }
  function snakePause() { snake.running = false; if(snake.interval) { clearInterval(snake.interval); snake.interval = null; } if(snake.ctx) snakeDraw(); }
  
  qs('#snake-new').addEventListener('click', () => { snakePause(); snakeInit(); snakeNew(); snakeDraw(); snakeResume(); });
  qs('#snake-pause').addEventListener('click', () => { snake.running ? snakePause() : snakeResume(); });
  
  document.addEventListener('keydown', e => {
    if(state.activeWin !== 'snake') return;
    if(e.key === ' ') { e.preventDefault(); snake.running ? snakePause() : snakeResume(); return; }
    const key = e.key.toLowerCase();
    if(['arrowup','arrowdown','arrowleft','arrowright','w','a','s','d'].includes(key)) e.preventDefault();
    if((key === 'arrowup' || key === 'w') && snake.dir.y !== 1) snake.nextDir = {x:0,y:-1};
    if((key === 'arrowdown' || key === 's') && snake.dir.y !== -1) snake.nextDir = {x:0,y:1};
    if((key === 'arrowleft' || key === 'a') && snake.dir.x !== 1) snake.nextDir = {x:-1,y:0};
    if((key === 'arrowright' || key === 'd') && snake.dir.x !== -1) snake.nextDir = {x:1,y:0};
  });
  
  // === INIT ===
  async function init() {
    await loadSlops(); await loadVotes(); await loadFame();
    loadIconPositions();
    wireWindows(); wireIcons(); wireStartMenu();
    initVideoPlayers();
    openWindow('about', {center: true});
  }
  
  init();
  
  return { openWindow, closeWindow, vote };
})();
</script>
</body>
</html>
